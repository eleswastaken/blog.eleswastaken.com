<!DOCTYPE html>
<html>
  <head>
    <title>Log In</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1>Log In</h1>
    <form id='main-form'>
      <label>
        <p>Email:</p>
        <input type="email" name='email' required>
      </label>

      <label>
        <p>Password:</p>
        <input type="password" name='password' required>
      </label>
      <button>Log In</button>
    </form>

    <script>
      const mainForm = document.body.querySelector('#main-form');

      mainForm.addEventListener('submit', (event) => {
              event.preventDefault()
              if (!mainForm.email.value || !mainForm.password.value) {
                      console.log('Show error. Missing some things...')
                    }
              const response = fetch('/admin/log-in',
                      {
                              method: 'POST',
                              body: JSON.stringify({
                                      email: mainForm.email.value,
                                      password: mainForm.password.value,
                                    }),
                              headers: {
                                      'Content-Type': 'application/json',
                                    },
                              redirect: 'follow',
                            })
            }
        )
    </script>
  </body>
</html>
